<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teia - Salas de Chat</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body class="tela-sala">
    <div class="teia-fundo"></div>
    
    <!-- Controle de som -->
    <div class="som-control">
        <button onclick="ativarSom()" class="botao-som" id="botao-ativar-som">
            üîá Ativar Som
        </button>
        <span class="indicador-som" id="indicador-som">üîá</span>
    </div>
    
    <!-- Notifica√ß√£o flutuante -->
    <div class="notificacao" id="notificacao">
        <div class="notificacao-conteudo" id="notificacao-mensagem"></div>
    </div>
    
    <div class="sala-teia">
        <div class="topo-sala">
            <div class="logo-sala">
                <h2>üï∏Ô∏è TEIA</h2>
                <span class="versao">v.7.0 - FINAL</span>
            </div>
            
            <div class="info-sala">
                <div class="sala-atual">
                    üìç sala: <span class="destaque" id="sala-atual-nome">PRINCIPAL</span>
                </div>
                <div class="contagem-online" id="contagem-online">
                    <span class="numero-online">0</span> online
                </div>
            </div>
            
            <div class="acoes-topo">
                <button onclick="abrirModalCriarSala()" class="botao-acao" title="Criar sala privada">
                    üîí +
                </button>
                <button onclick="abrirModalConversaPrivada()" class="botao-acao" title="Iniciar conversa privada">
                    üí¨
                </button>
                <button onclick="sairDaTeia()" class="botao-sair">
                    ‚èª SAIR
                </button>
            </div>
        </div>
        
        <div class="corpo-sala">
            <!-- Barra lateral com salas -->
            <div class="barra-salas">
                <div class="titulo-barra">
                    <span>üì° SALAS</span>
                    <span class="mini-contagem" id="total-salas">0</span>
                </div>
                
                <div class="lista-salas" id="lista-salas"></div>
                
                <div class="info-salas">
                    <div class="info-item">üñ±Ô∏è clique = entrar</div>
                    <div class="info-item">üîí com cadeado = tem senha</div>
                    <div class="info-item">üñ±Ô∏è direito em privada = convidar</div>
                </div>
            </div>
            
            <!-- √Årea principal de mensagens -->
            <div class="area-mensagens" id="area-mensagens">
                <div class="bem-vindo-teia">
                    <div class="icone-bem-vindo">üï∑Ô∏è</div>
                    <div class="texto-bem-vindo">
                        escolha uma sala ou inicie uma conversa privada
                    </div>
                </div>
            </div>
            
            <!-- Barra lateral com habitantes -->
            <div class="barra-habitantes">
                <div class="titulo-barra">
                    <span>üï∑Ô∏è AQUI</span>
                    <span class="mini-contagem" id="mini-contagem">0</span>
                </div>
                
                <div class="lista-habitantes" id="lista-habitantes"></div>
                
                <div class="digitando-status" id="digitando-status"></div>
                
                <div class="conversas-rapidas" id="lista-conversas">
                    <div class="titulo-conversas">üí¨ CONVERSAS</div>
                </div>
            </div>
        </div>
        
        <div class="area-digitacao">
            <div class="campo-wrapper">
                <input type="text" id="campo-mensagem" class="campo-mensagem" placeholder="mensagem para a sala..." maxlength="200" autocomplete="off">
                <div class="dicas-digitacao" id="dicas-digitacao"></div>
            </div>
            
            <div class="botoes-acao">
                <button onclick="enviarMensagem()" class="botao-enviar">ENVIAR</button>
                <button onclick="limparCampo()" class="botao-limpar" title="limpar">‚å´</button>
                <button onclick="toggleEmojis()" class="botao-emoji" title="emojis">‚ò∫</button>
            </div>
        </div>
        
        <div class="painel-emojis" id="painel-emojis">
            <div class="emojis-grid">
                <span onclick="inserirEmoji(':)')">:)</span>
                <span onclick="inserirEmoji(':D')">:D</span>
                <span onclick="inserirEmoji(':(')">:(</span>
                <span onclick="inserirEmoji(';-)')">;-)</span>
                <span onclick="inserirEmoji('<3')"><3</span>
                <span onclick="inserirEmoji('xD')">xD</span>
                <span onclick="inserirEmoji(':P')">:P</span>
                <span onclick="inserirEmoji(':*')">:*</span>
            </div>
        </div>
    </div>
    
    <!-- √Årea de conversa privada -->
    <div class="conversa-privada" id="area-conversas-privadas">
        <div class="conversa-header">
            <span id="conversa-titulo">Conversa privada</span>
            <button onclick="fecharConversaPrivada()" class="fechar-conversa">‚úï</button>
        </div>
        <div class="conversa-mensagens" id="conversa-mensagens"></div>
        <div class="conversa-input-area">
            <input type="text" id="conversa-input" placeholder="mensagem privada..." maxlength="200">
            <button onclick="enviarMensagemPrivada()">ENVIAR</button>
        </div>
    </div>
    
    <!-- Modal para senha de sala privada -->
    <div class="modal" id="modal-senha">
        <div class="modal-conteudo">
            <h3>üîí SALA PRIVADA</h3>
            <p>Digite a senha:</p>
            <input type="password" id="senha-input" placeholder="senha">
            <div class="modal-botoes">
                <button onclick="confirmarSenha()" class="botao-confirmar">ENTRAR</button>
                <button onclick="fecharModalSenha()" class="botao-cancelar">CANCELAR</button>
            </div>
        </div>
    </div>
    
    <!-- Modal para criar sala privada -->
    <div class="modal" id="modal-criar-sala">
        <div class="modal-conteudo">
            <h3>üîí CRIAR SALA PRIVADA</h3>
            <p>Nome da sala:</p>
            <input type="text" id="nova-sala-nome" placeholder="ex: Festa do Arromba" maxlength="30">
            <p>Senha (opcional):</p>
            <input type="password" id="nova-sala-senha" placeholder="deixe em branco para p√∫blica">
            <div class="modal-botoes">
                <button onclick="criarSalaPrivada()" class="botao-confirmar">CRIAR</button>
                <button onclick="fecharModalCriarSala()" class="botao-cancelar">CANCELAR</button>
            </div>
        </div>
    </div>
    
    <!-- Modal para iniciar conversa privada -->
    <div class="modal" id="modal-conversa-privada">
        <div class="modal-conteudo">
            <h3>üí¨ CONVERSA PRIVADA</h3>
            <p>Apelido do usu√°rio:</p>
            <input type="text" id="conversa-destino" placeholder="ex: Aranha123">
            <div class="modal-botoes">
                <button onclick="iniciarConversaPrivada()" class="botao-confirmar">INICIAR</button>
                <button onclick="fecharModalConversaPrivada()" class="botao-cancelar">CANCELAR</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="cliente.js"></script>
</body>
</html>